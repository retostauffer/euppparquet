{% extends "layout.html" %}
{% load i18n %}
{% load static %}

{% block css %}
<style>
div.home-icon {
    text-align: center !important;
}
div.home-icon img {
    width: 40%;
    min-width: 100px;
    padding-bottom: 3em;
}
</style>
{% endblock %}

{% block js %}
<script src="{% static "node_modules/datatables.net/js/jquery.dataTables.min.js" %}"></script>
<script>
$(document).ready(function() {
    var columns = []
    $("#grid").DataTable({
        ajax: {
            url: "/api/test",
            data: {"csrfmiddlewaretoken": "{{ csrf_token }}"},
            dataSrc: "data",
        },
        columns: [
            {data: "_path"},
            {data: "param"},
            {data: "year"},
            {data: "month"},
            {data: "day"},
            {data: "_offset"},
            {data: "_length"},
        ],
        initComplete: function(settings, json) {
            console.log(json.data[0]);
        }
    });
});
</script>
{% endblock %}

{% block content %}

<h1>EUPP Parquet API</h1>

<table id="grid">
    <thead>
        <tr>
            <th>Grib file path</th>
            <th>Param</th>
            <th>Year</th>
            <th>Month</th>
            <th>Day</th>
            <th>Offset</th>
            <th>Length</th>
        </tr>
    </thead>
</table>

{% endblock %}





